# 스캔 방법

Kubescape의 다양한 스캔 방법 및 옵션을 상세히 설명합니다.

## 스캔 대상

### 1. 프레임워크 스캔

보안 프레임워크 기반 전체 스캔입니다.

```bash
# NSA-CISA 프레임워크
kubescape scan framework nsa

# CIS Benchmark
kubescape scan framework cis

# MITRE ATT&CK
kubescape scan framework mitre

# 모든 프레임워크
kubescape scan framework all
```

### 2. 컨트롤 스캔

특정 컨트롤만 선택하여 스캔합니다.

```bash
# 단일 컨트롤
kubescape scan control C-0018

# 여러 컨트롤
kubescape scan control C-0018,C-0003,C-0052
```

### 3. 클러스터 스캔

실행 중인 클러스터를 스캔합니다.

```bash
# 기본 클러스터 스캔
kubescape scan

# 호스트 스캔 포함
kubescape scan --enable-host-scan

# 특정 네임스페이스만
kubescape scan --include-namespaces default

# 특정 네임스페이스 제외
kubescape scan --exclude-namespaces kube-system
```

### 4. Manifest 파일 스캔

YAML/JSON 파일 또는 디렉토리를 스캔합니다.

```bash
# 단일 파일
kubescape scan deployment.yaml

# 디렉토리
kubescape scan ./manifests/

# Helm 차트
kubescape scan ./helm-chart/
```

### 5. 이미지 스캔

컨테이너 이미지 취약점을 스캔합니다.

```bash
# 단일 이미지
kubescape scan image nginx:latest

# 여러 이미지
kubescape scan image nginx:latest redis:7-alpine
```

## 스캔 옵션

### 출력 형식

```bash
# JSON
kubescape scan framework nsa --format json --output results.json

# JUnit XML
kubescape scan framework nsa --format junit --output results.xml

# HTML
kubescape scan framework nsa --format html --output report.html

# PDF (선택적)
kubescape scan framework nsa --format pdf --output report.pdf
```

### Compliance Threshold

```bash
# 80% 이상 통과 필수
kubescape scan framework nsa --compliance-threshold 80

# 합격 기준 미달 시 종료 코드 1 반환
```

### 네임스페이스 필터링

```bash
# 특정 네임스페이스만
kubescape scan --include-namespaces default,production

# 특정 네임스페이스 제외
kubescape scan --exclude-namespaces kube-system,kube-public
```

## 관련 문서

- [03-설치및사용법.md](./03-설치및사용법.md) - 설치부터 실행까지 기본 워크플로우
- [05-프레임워크-컨트롤.md](./05-프레임워크-컨트롤.md) - 프레임워크 및 컨트롤 상세
- [06-CAT-활용.md](./06-CAT-활용.md) - CAT 관점에서의 활용
