# Kubescape 개요

## Kubescape란?

Kubescape는 쿠버네티스 클러스터 및 워크로드의 **보안 설정 및 취약점**을 검사하는 Kubernetes 보안 스캔 도구입니다.

| 속성 | 설명 |
|------|------|
| **목적** | 클러스터 보안 설정이 보안 기준(CIS, NSA-CISA 등)을 만족하는지 검증 |
| **주체** | CNCF Sandbox 프로젝트 (Apache 2.0 라이선스) |
| **특징** | 다중 프레임워크 지원, CLI/Operator 모드, 취약점 스캔, 런타임 탐지 |
| **언어** | Go |
| **지원 환경** | Kubernetes (네이티브 통합) |

## 주요 기능

| 기능 | 상세 설명 |
|------|----------|
| **보안 프레임워크 스캔** | NSA-CISA, CIS Benchmark, MITRE ATT&CK 등 프레임워크 기반 검사 |
| **취약점 스캔** | 컨테이너 이미지 취약점 스캔 (Grype 기반) |
| **구성 오류 검사** | Kubernetes 리소스 구성 오류 및 보안 설정 검사 |
| **런타임 탐지** | 실행 중 위협 탐지 및 relevancy 기반 필터링 |
| **다양한 출력 형식** | JSON, JUnit XML, HTML, PDF, SARIF 등 |
| **CI/CD 통합** | GitHub Actions, GitLab CI 등 CI/CD 파이프라인 통합 |

## 주요 사용 사례

| 사용 사례 | 설명 |
|----------|------|
| **보안 기준 준수 검증** | "클러스터 보안 설정이 CIS 기준을 만족하는가?" 검증 |
| **취약점 탐지** | 컨테이너 이미지 취약점 검사 및 심각도 확인 |
| **구성 오류 방지** | Kubernetes 리소스 구성 오류 사전 검사 |
| **인수 테스트** | 클러스터 배포 후 보안 설정 확인 |
| **지속적 모니터링** | Operator를 통한 지속적 보안 스캔 |

## 장점

| 장점 | 설명 |
|------|------|
| **다중 프레임워크 지원** | NSA-CISA, CIS, MITRE 등 다양한 보안 기준 지원 |
| **CLI 및 Operator 모드** | CLI로 즉시 스캔 또는 Operator로 지속적 모니터링 |
| **취약점 스캔** | 컨테이너 이미지 취약점 스캔 통합 |
| **런타임 relevancy** | 실제 사용 중인 라이브러리 기반 취약점 필터링 |
| **다양한 출력 형식** | CI/CD 통합을 위한 다양한 리포트 형식 제공 |

## 제약 사항

| 제약 | 설명 |
|------|------|
| **Kubernetes 전용** | Kubernetes 환경에서만 실행 가능 |
| **리소스 요구** | Operator 모드는 충분한 리소스 필요 |
| **정확도** | 프레임워크 및 컨트롤의 정확도는 설정에 따라 다름 |

## Sonobuoy, ClusterLoader2, kube-burner, Chaos Toolkit, Chaos Mesh, LitmusChaos와의 관계

| 도구 | 목적 | 특징 |
|------|------|------|
| **Sonobuoy** | Conformance 테스트 (기본 자격 검증) | 기능 정상 동작 여부 검증 |
| **ClusterLoader2** | 성능/스케일 테스트 | 내장 measurement, 구조화된 리포팅 |
| **kube-burner** | 성능/스케일 테스트 | Prometheus 중심 관측/리포팅 |
| **Chaos Toolkit** | 복원력/장애 대응 테스트 | Python 기반, Steady-State Hypothesis |
| **Chaos Mesh** | 복원력/장애 대응 테스트 | Kubernetes 네이티브, CRD 기반, Dashboard |
| **LitmusChaos** | 복원력/장애 대응 테스트 | Kubernetes 네이티브, ChaosHub, Probes |
| **Kubescape** | 보안 기본선 검증 | 보안 스캔, 취약점 탐지, 프레임워크 기반 |

## CAT 관점에서의 역할

Kubescape는 **쿠버네티스 클러스터 인수테스트(CAT)**의 **"보안 기본선(Security baseline)"** 카테고리에 해당하는 핵심 도구입니다.

### 검증 질문(Assertion) 예시

- "클러스터 보안 설정이 CIS 기준을 만족하는가?"
- "컨테이너 이미지에 Critical 취약점이 없는가?"
- "모든 워크로드에 보안 설정(seccomp, AppArmor 등)이 적용되어 있는가?"

자세한 내용은 [06-CAT-활용.md](./06-CAT-활용.md) 참조.

## 관련 문서

- [02-구성요소.md](./02-구성요소.md) - 아키텍처 및 구성 요소 상세 설명
- [03-설치및사용법.md](./03-설치및사용법.md) - 설치 및 사용 방법
- [04-스캔-방법.md](./04-스캔-방법.md) - 스캔 방법 및 옵션
