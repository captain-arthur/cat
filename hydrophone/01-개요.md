# Hydrophone 개요

## Hydrophone이란?

Hydrophone은 쿠버네티스 클러스터가 **공식 표준(Conformance Specification)을 준수하는지** 테스트하기 위한 **경량 러너(lightweight runner)** 도구입니다.

| 속성 | 설명 |
|------|------|
| **목적** | 공식 Kubernetes Conformance 이미지를 사용하여 Conformance 테스트 실행 |
| **특징** | 단일 바이너리, 간단한 실행, 경량 |
| **기반** | Kubernetes 릴리스 팀에서 제공하는 공식 conformance 이미지 사용 |
| **포지션** | Sonobuoy보다 단순하고 경량, Conformance 테스트 실행에 집중 |

## 주요 기능

| 기능 | 상세 설명 |
|------|----------|
| **Conformance 테스트 실행** | 공식 Kubernetes Conformance 이미지를 사용하여 테스트 실행 |
| **단순한 실행** | 단일 명령으로 전체 또는 선택적 테스트 실행 |
| **표준 결과 출력** | `e2e.log`, `junit_01.xml` 형식으로 결과 출력 |
| **유연한 테스트 선택** | 특정 테스트만 실행하거나 제외 가능 |
| **경량 설계** | Sonobuoy보다 단순하고 빠른 실행 |

## 주요 사용 사례

| 사용 사례 | 설명 |
|----------|------|
| **Conformance 검증** | 클러스터가 공식 Conformance를 만족하는지 빠르게 확인 |
| **CNCF 인증 준비** | CNCF Certified Kubernetes 인증을 위한 Conformance 테스트 실행 |
| **버전 업그레이드 검증** | 클러스터 버전 업그레이드 후 호환성 확인 |
| **빠른 검증** | Sonobuoy보다 가볍고 빠른 검증이 필요한 경우 |

## 장점

| 장점 | 설명 |
|------|------|
| **단순성** | 단일 바이너리로 간단하게 실행 가능 |
| **경량** | Sonobuoy보다 가볍고 빠른 실행 |
| **공식 이미지 사용** | Kubernetes 릴리스 팀에서 제공하는 공식 conformance 이미지 사용 |
| **표준 결과** | JUnit XML 형식으로 표준화된 결과 출력 |
| **빠른 피드백** | 단순한 구조로 빠른 결과 확인 |

## 제약 사항

| 제약 | 설명 |
|------|------|
| **플러그인 없음** | Sonobuoy처럼 다양한 플러그인 지원 없음 (Conformance 테스트에 집중) |
| **Go 환경 필요** | 설치 시 Go 환경 필요 (`go install`) |
| **단순한 리포팅** | Sonobuoy만큼 다양한 리포트 기능 없음 |
| **초기 도구** | 2024년에 공개된 비교적 새로운 도구 |

## Sonobuoy와의 차이점

### 목적 차이

| 항목 | Hydrophone | Sonobuoy |
|------|-----------|----------|
| **목적** | Conformance 테스트 실행에 집중 (경량) | 다양한 플러그인 및 데이터 수집 지원 (풀 기능) |
| **포지션** | 간단하고 빠른 Conformance 검증 | 종합적인 클러스터 진단 및 검증 |
| **대상 사용자** | 빠른 검증이 필요한 사용자 | 다양한 검증이 필요한 사용자 |

### 기능 차이

| 기능 | Hydrophone | Sonobuoy |
|------|-----------|----------|
| **플러그인** | 없음 (단순 실행) | 다양한 플러그인 지원 (e2e, 로그 수집 등) |
| **설치** | `go install` | 바이너리 다운로드 또는 패키지 관리자 |
| **실행 방식** | `conformance` 네임스페이스 | `sonobuoy` 네임스페이스 (Aggregator + 플러그인) |
| **결과 출력** | `e2e.log`, `junit_01.xml` | `results.tar.gz` (다양한 플러그인 결과) |

자세한 내용은 [03-Sonobuoy-비교.md](./03-Sonobuoy-비교.md) 참조.

## CAT 관점에서의 역할

Hydrophone은 **쿠버네티스 클러스터 인수테스트(CAT)**의 **"기본 자격/기능(Conformance/Config)"** 카테고리에 해당하는 도구입니다.

### 검증 질문(Assertion) 예시

- "클러스터가 공식 Kubernetes Conformance를 100% 통과하는가?"
- "Conformance 테스트를 빠르고 간단하게 실행할 수 있는가?"
- "CNCF 인증을 위한 표준 결과를 생성할 수 있는가?"

자세한 내용은 [06-CAT-활용.md](./06-CAT-활용.md) 참조.
