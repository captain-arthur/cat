# 검증 질문(Assertion) 및 합격 기준

Testkube를 사용하여 검증할 수 있는 **검증 질문(Assertion)**과 **합격 기준**을 정의합니다.

## 검증 질문(Assertion) 정의 원칙

### 핵심 원칙

**"도구"가 아니라 "검증 질문(Assertion)"으로 카테고리를 고정**

- 도구는 경계가 모호하다
- 같은 도구라도 질문이 다르면 다른 카테고리에 넣어도 된다
- 필요하다면 "Primary 카테고리 1개 + Secondary 태그"로 운영

## Testkube 관련 검증 질문(Assertion)

### 1. 테스트 자동화 검증

#### Assertion 1.1: "다양한 테스트를 Kubernetes에서 자동화할 수 있는가?"

| 항목 | 내용 |
|------|------|
| **검증 질문** | "다양한 테스트를 Kubernetes에서 자동화할 수 있는가?" |
| **테스트 방법** | Postman, k6, Cypress 등 다양한 테스트 실행 |
| **합격 기준** | **테스트 실행 성공 (status: passed)** |
| **실행 환경** | 테스트/운영 환경 |
| **비고** | **테스트 자동화 확인 필수 항목** |

**합격 판단:**

```bash
# 테스트 실행 상태 확인
STATUS=$(testkube get execution <execution-id> --output json | jq -r '.result.status')

if [ "$STATUS" != "passed" ]; then
  echo "❌ 테스트 자동화 검증 실패: 운영 승인 불가"
  exit 1
fi
```

### 2. TestWorkflow 검증

#### Assertion 2.1: "복합 테스트 워크플로우를 구성하고 실행할 수 있는가?"

| 항목 | 내용 |
|------|------|
| **검증 질문** | "복합 테스트 워크플로우를 구성하고 실행할 수 있는가?" |
| **테스트 방법** | TestWorkflow 실행 → 결과 확인 |
| **합격 기준** | **Workflow 실행 성공 (status: passed)** |
| **비고** | **TestWorkflow 기능 확인** |

## 합격 기준 정의

### 기본 합격 기준 (권장)

| 검증 항목 | 합격 기준 | 비고 |
|----------|----------|------|
| **테스트 실행** | 테스트 실행 성공 (status: passed) | 테스트 자동화 확인 |
| **TestWorkflow** | Workflow 실행 성공 (status: passed) | 복합 테스트 워크플로우 확인 |

### 테스트 결과 기반 합격 기준

| 상태 | 의미 | 합격 여부 |
|------|------|----------|
| `passed` | 테스트 통과 | ✅ 합격 |
| `failed` | 테스트 실패 | ❌ 불합격 |
| `running` | 테스트 실행 중 | ⚠️ 진행 중 |
| `queued` | 테스트 대기 중 | ⚠️ 대기 중 |

## CAT 전체 흐름에서의 위치

### CAT 단계별 검증 질문

| 단계 | 카테고리 | 검증 질문(Assertion) | 도구 | 합격 기준 |
|------|---------|---------------------|------|----------|
| 1 | Conformance/Config | "클러스터가 공식 Conformance를 만족하는가?" | Sonobuoy | Non-disruptive Conformance 100% 통과 |
| 2 | Security | "보안 설정이 기준을 만족하는가?" | Kubescape | CIS Benchmark 80% 이상 통과 |
| 3 | Performance/Scale | "성능이 요구 수준인가?" | kube-burner | p95 API latency < X ms |
| 4 | Resilience/Fault Tolerance | "장애 상황에서도 정상 동작을 유지하는가?" | Chaos Mesh | 실험 완료 (phase: Finished) |
| **5** | **Test Automation** | **"다양한 테스트를 자동화하여 실행할 수 있는가?"** | **Testkube** | **테스트 실행 성공 (status: passed)** |
| 6 | Automation | "검증이 자동화되었는가?" | CI/CD | 자동 실행 및 리포트 생성 |

## 관련 문서

- [06-CAT-활용.md](./06-CAT-활용.md) - CAT 관점에서의 Testkube 활용
- [08-실무-체크리스트.md](./08-실무-체크리스트.md) - 실무 적용 시 확인 사항
