# Chaos Mesh 개요

## Chaos Mesh란?

Chaos Mesh는 쿠버네티스 클러스터 및 애플리케이션의 **복원력(Resilience)과 장애 대응 능력**을 실험을 통해 검증하는 Kubernetes 네이티브 Chaos Engineering 플랫폼입니다.

| 속성 | 설명 |
|------|------|
| **목적** | 시스템이 장애 상황에서도 정상 동작을 유지하는지 실험을 통해 검증 |
| **주체** | CNCF Sandbox 프로젝트 (Apache 2.0 라이선스) |
| **특징** | Kubernetes CRD 기반, Dashboard UI 제공, 다양한 장애 유형 지원 |
| **언어** | Go, TypeScript |
| **지원 환경** | Kubernetes (네이티브 통합) |

## 주요 기능

| 기능 | 상세 설명 |
|------|----------|
| **다양한 Chaos 실험 유형** | PodChaos, NetworkChaos, IOChaos, StressChaos, TimeChaos, KernelChaos 등 |
| **CRD 기반 실험 정의** | Kubernetes CRD로 실험을 리소스로 관리 |
| **Dashboard UI** | 웹 기반 UI로 실험 생성, 모니터링, 관리 |
| **Workflow** | 여러 실험을 직렬/병렬로 구성하여 복합 실험 실행 |
| **스케줄링** | Cron 기반 반복 실험 실행 |
| **안전성 제어** | RBAC, 네임스페이스 필터링, Blast Radius 제한 |

## 주요 사용 사례

| 사용 사례 | 설명 |
|----------|------|
| **Pod 복원력 검증** | "Pod가 죽었을 때 자동으로 복구되는가?" 검증 |
| **네트워크 장애 테스트** | 네트워크 지연, 패킷 손실, 분할 등 시뮬레이션 |
| **I/O 장애 테스트** | 디스크 I/O 장애, 파일 시스템 오류 시뮬레이션 |
| **리소스 스트레스 테스트** | CPU/메모리 부하 주입으로 스트레스 테스트 |
| **인수 테스트** | 클러스터 배포 후 장애 대응 능력 확인 |

## 장점

| 장점 | 설명 |
|------|------|
| **Kubernetes 네이티브** | CRD 기반으로 Kubernetes와 완전 통합 |
| **Dashboard UI** | 웹 UI로 실험 관리 및 모니터링 용이 |
| **다양한 장애 유형** | Pod, Network, I/O, Stress, Time, Kernel 등 다양한 장애 시뮬레이션 |
| **Workflow 지원** | 복잡한 실험 시나리오를 Workflow로 구성 가능 |
| **안전성** | RBAC, 네임스페이스 필터링 등 안전 제어 기능 |

## 제약 사항

| 제약 | 설명 |
|------|------|
| **Kubernetes 전용** | Kubernetes 환경에서만 실행 가능 |
| **권한 요구** | Chaos Daemon이 노드 레벨 권한 필요 |
| **커널 기능** | 일부 실험(KernelChaos 등)은 커널 기능 필요 |

## Sonobuoy, ClusterLoader2, kube-burner, Chaos Toolkit과의 관계

| 도구 | 목적 | 특징 |
|------|------|------|
| **Sonobuoy** | Conformance 테스트 (기본 자격 검증) | 기능 정상 동작 여부 검증 |
| **ClusterLoader2** | 성능/스케일 테스트 | 내장 measurement, 구조화된 리포팅 |
| **kube-burner** | 성능/스케일 테스트 | Prometheus 중심 관측/리포팅 |
| **Chaos Toolkit** | 복원력/장애 대응 테스트 | Python 기반, Steady-State Hypothesis |
| **Chaos Mesh** | 복원력/장애 대응 테스트 | Kubernetes 네이티브, CRD 기반, Dashboard |

## CAT 관점에서의 역할

Chaos Mesh는 **쿠버네티스 클러스터 인수테스트(CAT)**의 **"복원력/장애 대응(Resilience/Fault Tolerance)"** 카테고리에 해당하는 핵심 도구입니다.

### 검증 질문(Assertion) 예시

- "Pod가 죽었을 때 자동으로 재생성되는가?"
- "네트워크 지연 상황에서도 서비스가 정상 응답하는가?"
- "노드 장애 시 워크로드가 다른 노드로 이동하는가?"

자세한 내용은 [06-CAT-활용.md](./06-CAT-활용.md) 참조.

## 관련 문서

- [02-구성요소.md](./02-구성요소.md) - 아키텍처 및 구성 요소 상세 설명
- [03-설치및사용법.md](./03-설치및사용법.md) - 설치 및 사용 방법
- [04-실험-정의.md](./04-실험-정의.md) - Chaos Experiment 정의 방법
