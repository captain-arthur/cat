# 출력 및 리포트

kube-bench의 출력 형식 및 리포트 해석 방법을 설명합니다.

## 출력 형식

### 1. 표준 출력 (stdout)

기본 터미널 출력 형식입니다.

```bash
kube-bench run --targets master
```

**출력 예시:**

```
[PASS] 1.1.1 Ensure that the API server pod specification file permissions are set to 644 or more restrictive
[FAIL] 1.1.2 Ensure that the API server pod specification file ownership is set to root:root
[WARN] 1.1.3 Ensure that the controller manager pod specification file has permissions set to 644 or more restrictive
```

### 2. JSON 형식

JSON 형식으로 리포트를 생성합니다.

```bash
kube-bench run --targets master --json --output results.json
```

**JSON 구조:**

```json
{
  "Controls": [
    {
      "id": "1.1.1",
      "text": "Ensure that the API server pod specification file permissions are set to 644 or more restrictive",
      "type": "check",
      "tests": [
        {
          "bin_op": "or",
          "test_items": []
        }
      ],
      "remediation": "Run the following command: chmod 644 /etc/kubernetes/manifests/kube-apiserver.yaml",
      "scored": true,
      "result": "PASS"
    }
  ]
}
```

### 3. JUnit XML 형식

CI/CD 파이프라인 통합용 JUnit XML 형식입니다.

```bash
kube-bench run --targets master --junit --output results.xml
```

## 리포트 해석

### 결과 상태

| 상태 | 의미 | 조치 |
|------|------|------|
| **PASS** | 검사 항목 통과 | 조치 불필요 |
| **FAIL** | 검사 항목 실패 | 수정 권고 확인 및 적용 |
| **WARN** | 경고 항목 | 선택적 검토 |
| **INFO** | 정보 제공 항목 | 참고용 |

### 권고(remediation) 확인

FAIL 항목에는 수정 방법이 포함되어 있습니다.

```
[FAIL] 1.1.2 Ensure that the API server pod specification file ownership is set to root:root
Remediation: Run the following command:
chown root:root /etc/kubernetes/manifests/kube-apiserver.yaml
```

## 관련 문서

- [04-검사-항목.md](./04-검사-항목.md) - 검사 항목 및 방법
- [06-CAT-활용.md](./06-CAT-활용.md) - CAT 관점에서의 활용
